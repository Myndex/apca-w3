/*

/////    SAPC APCA - Advanced Perceptual Contrast Algorithm
/////           Beta 0.1.0 W3 ? contrast function only
/////           DIST: W3 ? Revision date: Dec 21, 2021
/////    Function to parse color values and determine Lc contrast
/////    Copyright © 2019-2021 by Andrew Somers. All Rights Reserved.
/////    LICENSE: W3 LICENSE
/////    CONTACT: Please use the ISSUES or DISCUSSIONS tab at:
/////    https://github.com/Myndex/SAPC-APCA/
/////
///////////////////////////////////////////////////////////////////////////////
/////
/////    IMPORTS:
/////    import { APCAcontrast, sRGBtoY, displayP3toY } from 'apca-w3';
/////    import { colorParsley } from 'colorparsley';
/////
/////    FORWARD CONTRAST USAGE:
/////    Lc = APCAcontrast( sRGBtoY( TEXTcolor ) , sRGBtoY( BACKGNDcolor ) );
/////
/////    Where the colors are sent as an rgba array [0,0,0,255]
/////
/////    Live Demonstrator at https://www.myndex.com/APCA/
// */
function APCAcontrast(a,b,c){c=void 0===c?-1:c;var d=[0,1.1];if(isNaN(a)||isNaN(b)||Math.min(a,b)<d[0]||Math.max(a,b)>d[1])return 0;d="BoW";a=.022<a?a:a+Math.pow(.022-a,1.414);b=.022<b?b:b+Math.pow(.022-b,1.414);if(5E-4>Math.abs(b-a))return 0;b>a?(a=1.14*(Math.pow(b,.56)-Math.pow(a,.57)),a=.1>a?0:a-.027):(d="WoB",a=1.14*(Math.pow(b,.65)-Math.pow(a,.62)),a=-.1<a?0:a+.027);return 0>c?100*a:0==c?Math.round(100*Math.abs(a))+"<sub>"+d+"</sub>":Number.isInteger(c)?(100*a).toFixed(c):0}
function sRGBtoY(a){a=void 0===a?[0,0,0,1]:a;return.2126729*Math.pow(a[0]/255,2.4)+.7151522*Math.pow(a[1]/255,2.4)+.072175*Math.pow(a[2]/255,2.4)}function displayP3toY(a){a=void 0===a?[0,0,0,1]:a;return.228982959480578*Math.pow(a[0]/255,2.4)+.691749262585238*Math.pow(a[1]/255,2.4)+.0792677779341829*Math.pow(a[2]/255,2.4)}
function adobeRGBtoY(a){a=void 0===a?[0,0,0,1]:a;return.297355022711381*Math.pow(a[0]/255,2.35)+.627372749714528*Math.pow(a[1]/255,2.35)+.0752722275740913*Math.pow(a[2]/255,2.35)}module.exports={APCAcontrast:APCAcontrast,sRGBtoY:sRGBtoY,displayP3toY:displayP3toY};